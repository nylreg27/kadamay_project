<!DOCTYPE html>
<head>
<meta charset="utf-8">
<title>Member List Report</title>
<style>
@page {
size: letter;
margin: 2cm;
}
body {
font-family: Arial, sans-serif;
font-size: 12pt;
line-height: 1.5;
color: #333;
}
h1 {
font-size: 18pt;
text-align: center;
margin-bottom: 20px;
}
.header {
text-align: center;
margin-bottom: 30px;
}
.report-info {
margin-bottom: 20px;
font-size: 10pt;
}
.report-info p {
margin: 5px 0;
}
table {
width: 100%;
border-collapse: collapse;
margin-bottom: 20px;
}
th, td {
border: 1px solid #ddd;
padding: 8px;
text-align: left;
font-size: 10pt;
}
th {
background-color: #f2f2f2;
font-weight: bold;
}
tr:nth-child(even) {
background-color: #f9f9f9;
}
.footer {
margin-top: 20px;
font-size: 9pt;
text-align: center;
border-top: 1px solid #ddd;
padding-top: 10px;
}
.status-active {
color: green;
font-weight: bold;
}
.status-inactive {
color: red;
}
.status-deceased {
color: gray;
font-style: italic;
}
</style>
</head>
<body>
<div class="header">
<h1>{{ church.name }} - Member List Report</h1>
</div>

<div class="report-info">
<p><strong>Total Members:</strong> {{ total_members }}</p>
<p><strong>Report Type:</strong> {{ report_type|title }}</p>
{% if filters.is_active is not None %}
<p><strong>Status Filter:</strong> {% if filters.is_active %}Active Members{% else %}Inactive Members{% endif %}</p>
{% endif %}
{% if filters.is_alive is not None %}
<p><strong>Alive Status Filter:</strong> {% if filters.is_alive %}Living Members{% else %}Deceased Members{% endif %}</p>
{% endif %}
<p><strong>Generated:</strong> {{ generated_at|date:"F d, Y H:i" }}</p>
<p><strong>Generated By:</strong> {{ generated_by }}</p>
</div>

<table>
<thead>
<tr>
<th>Member ID</th>
<th>Name</th>
<th>Family</th>
<th>Relationship</th>
<th>Birthdate</th>
<th>Status</th>
</tr>
</thead>
<tbody>
{% for member in members %}
<tr>
<td>{{ member.members_serial }}</td>
<td>{{ member.surname }}, {{ member.given_name }} {{ member.middle_name|default:'' }}</td>
<td>{{ member.family.family_name }}</td>
<td>{% if member.relationship == 'H' %}Head{% else %}Member{% endif %}</td>
<td>{{ member.birthdate|date:"m/d/Y" }}</td>
<td>
{% if member.is_active_member and member.is_alive %}
<span class="status-active">Active</span>
{% elif not member.is_alive %}
<span class="status-deceased">Deceased</span>
{% else %}
<span class="status-inactive">Inactive</span>
{% endif %}
</td>
</tr>
{% endfor %}
</tbody>
</table>

<div class="footer">
<p>Kadamay Mortuary System - {{ generated_at|date:"F d, Y" }}</p>
</div>
</body>